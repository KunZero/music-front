(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["search"],{"1e47":function(e,t,n){},2121:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("96cf");var c=n("1da1"),r=n("7a23");function a(e){var t=30,n=Object(r["z"])(null),a=Object(r["z"])([]),o=Object(r["z"])(0),i=Object(r["z"])(0),u=Object(r["z"])(0),s=Object(r["f"])((function(){if(o.value<0)return"";var t=e.data[i.value];return t?t.title:""})),l=Object(r["f"])((function(){var e=u.value,n=e>0&&e<t?e-t:0;return{transform:"translate3d(0,".concat(n,"px,0)")}}));function b(){var e=n.value.children,t=a.value,c=0;t.length=0,t.push(c);for(var r=0;r<e.length;r++)c+=e[r].clientHeight,t.push(c)}function f(e){o.value=-e.y}return Object(r["K"])((function(){return e.data}),Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(r["p"])();case 2:b();case 3:case"end":return e.stop()}}),e)})))),Object(r["K"])(o,(function(e){for(var t=a.value,n=0;n<t.length-1;n++){var c=t[n],r=t[n+1];e>=c&&e<=r&&(i.value=n,u.value=r-e)}})),{groupRef:n,onScroll:f,fixedTitle:s,fixedStyle:l,currentIndex:i}}},"22c8":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("d81d");var c=n("7a23");function r(e,t){var n=18,r=Object(c["z"])(null),a=Object(c["f"])((function(){return e.data.map((function(e){return e.title}))})),o={};function i(e){var t=parseInt(e.target.dataset.index);o.y1=e.touches[0].pageY,o.anchorIndex=t,s(t)}function u(e){o.y2=e.touches[0].pageY;var t=(o.y2-o.y1)/n|0,c=o.anchorIndex+t;s(c)}function s(e){if(!isNaN(e)){e=Math.max(0,Math.min(a.value.length-1,e));var n=t.value.children[e],c=r.value.scroll;c.scrollToElement(n,0)}}return{shortcutList:a,scrollRef:r,onShortcutTouchStart:i,onShortcutTouchMove:u}}},2762:function(e,t,n){"use strict";n.r(t);var c=n("7a23"),r=Object(c["O"])("data-v-57775237");Object(c["x"])("data-v-57775237");var a={class:"singer-detail"};Object(c["v"])();var o=r((function(e,t,n,r,o,i){var u=Object(c["C"])("musiclistcopy");return Object(c["u"])(),Object(c["h"])("div",a,[Object(c["j"])(u,{songs:o.songs,title:i.title,pic:i.pic,loading:o.loading},null,8,["songs","title","pic","loading"])])})),i=(n("b0c0"),n("96cf"),n("1da1")),u=n("ae58"),s=Object(c["O"])("data-v-604bb96c");Object(c["x"])("data-v-604bb96c");var l={class:"music-list"},b=Object(c["j"])("i",{class:"icon-back"},null,-1),f={class:"title"},j={class:"song-list-wrapper"};Object(c["v"])();var d=s((function(e,t,n,r,a,o){var i=Object(c["C"])("song-list"),u=Object(c["C"])("scroll"),d=Object(c["D"])("loading"),h=Object(c["D"])("no-result");return Object(c["u"])(),Object(c["h"])("div",l,[Object(c["j"])("div",{class:"back",onClick:t[1]||(t[1]=function(){return o.goBack&&o.goBack.apply(o,arguments)})},[b]),Object(c["j"])("h1",f,Object(c["G"])(n.title),1),Object(c["j"])("div",{class:"bg-image",style:o.backgroundImage,ref:"bgImage"},null,4),Object(c["M"])(Object(c["j"])(u,{class:"list",style:o.scrollStyle,"probe-type":3,onScroll:o.onScroll},{default:s((function(){return[Object(c["j"])("div",j,[Object(c["j"])(i,{songs:n.songs,onSelect:o.selectItem,rank:n.rank},null,8,["songs","onSelect","rank"])])]})),_:1},8,["style","onScroll"]),[[d,n.loading],[h,o.noResult,n.noResultText]])])})),h=(n("99af"),n("5530")),O=n("a25b"),p=n("70d8"),g=n("5502"),v=40,m={name:"music-list",components:{SongList:O["a"],Scroll:p["a"]},props:{songs:{type:Array,default:function(){return[]}},title:String,pic:String,loading:Boolean,noResultText:{type:String,default:"抱歉，没有找到可播放的歌曲"},rank:Boolean},data:function(){return{imageHeight:0,scrollY:0,maxTranslateY:0}},computed:Object(h["a"])({backgroundImage:function(){var e="70%",t="10px",n=0;return{zIndex:n,height:t,paddingTop:e,backgroundImage:"url(".concat(this.pic,")")}},noResult:function(){return!this.loading&&!this.songs.length},playBtnStyle:function(){var e="";return this.scrollY>=this.maxTranslateY&&(e="none"),{display:e}},bgImageStyle:function(){var e=this.scrollY,t=0,n="70%",c=0,r=0;e>this.maxTranslateY&&(t=10,n=0,c="".concat(v,"px"),r=1);var a=1;return e<0&&(a=1+Math.abs(e/this.imageHeight)),{zIndex:t,paddingTop:n,height:c,backgroundImage:"url(".concat(this.pic,")"),transform:"scale(".concat(a,")translateZ(").concat(r,"px)")}},scrollStyle:function(){var e=this.playlist.length?"60px":"0";return{top:"".concat(this.imageHeight,"px"),bottom:e}},filterStyle:function(){var e=0,t=this.scrollY,n=this.imageHeight;return t>=0&&(e=20*Math.min(this.maxTranslateY/n,t/n)),{backdropFilter:"blur(".concat(e,"px)")}}},Object(g["d"])(["playlist"])),mounted:function(){this.imageHeight=this.$refs.bgImage.clientHeight,this.maxTranslateY=this.imageHeight-v},methods:Object(h["a"])({goBack:function(){this.$router.back()},onScroll:function(e){this.scrollY=-e.y},selectItem:function(e){e.song;var t=e.index;this.selectPlay({list:this.songs,index:t})},random:function(){this.randomPlay(this.songs)}},Object(g["c"])(["selectPlay","randomPlay"]))},S=(n("b60a"),n("6b0d")),y=n.n(S);const x=y()(m,[["render",d],["__scopeId","data-v-604bb96c"]]);var k=x,w=n("4240"),R={name:"test",components:{musiclistcopy:k},data:function(){return{songs:[],loading:!0}},computed:{computedData:function(){var e=null;return e={id:13948,mid:"001fNHEf1SFEFN",name:"G.E.M. 邓紫棋",pic:"http://y.gtimg.cn/music/photo_new/T001R800x800M000001fNHEf1SFEFN.jpg"},e},pic:function(){var e=this.computedData;return e&&e.pic},title:function(){var e=this.computedData;return e&&(e.name||e.title)}},created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,c,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.computedData,n){t.next=5;break}return c=e.$route.matched[0].path,e.$router.push({path:c}),t.abrupt("return");case 5:return t.next=7,Object(u["a"])(n);case 7:return r=t.sent,t.next=10,Object(w["b"])(r.songs);case 10:e.songs=t.sent,e.loading=!1;case 12:case"end":return t.stop()}}),t)})))()}};n("8041");const T=y()(R,[["render",o],["__scopeId","data-v-57775237"]]);t["default"]=T},"4e22":function(e,t,n){"use strict";n.r(t);var c=n("7a23"),r=Object(c["O"])("data-v-44916e86");Object(c["x"])("data-v-44916e86");var a={class:"search"},o={class:"search-input-wrapper"},i={class:"hot-keys"},u=Object(c["j"])("h1",{class:"title"},"热门搜索",-1),s={class:"search-history"},l={class:"title"},b=Object(c["j"])("span",{class:"text"},"搜索历史",-1),f=Object(c["j"])("i",{class:"icon-clear"},null,-1),j={class:"search-result"};Object(c["v"])();var d=r((function(e,t,n,d,h,O){var p=Object(c["C"])("search-input"),g=Object(c["C"])("confirm"),v=Object(c["C"])("search-list"),m=Object(c["C"])("scroll"),S=Object(c["C"])("suggest"),y=Object(c["C"])("router-view");return Object(c["u"])(),Object(c["h"])("div",a,[Object(c["j"])("div",o,[Object(c["j"])(p,{modelValue:d.query,"onUpdate:modelValue":t[1]||(t[1]=function(e){return d.query=e})},null,8,["modelValue"])]),Object(c["M"])(Object(c["j"])(m,{ref:"scrollRef",class:"search-content"},{default:r((function(){return[Object(c["j"])("div",null,[Object(c["j"])("div",i,[u,Object(c["j"])("ul",null,[(Object(c["u"])(!0),Object(c["h"])(c["a"],null,Object(c["A"])(d.hotKeys,(function(e){return Object(c["u"])(),Object(c["h"])("li",{class:"item",key:e.id,onClick:function(t){return d.addQuery(e.key)}},[Object(c["j"])("span",null,Object(c["G"])(e.key),1)],8,["onClick"])})),128))])]),Object(c["M"])(Object(c["j"])("div",s,[Object(c["j"])("h1",l,[b,Object(c["j"])("span",{class:"clear",onClick:t[2]||(t[2]=function(){return d.showConfirm&&d.showConfirm.apply(d,arguments)})},[f])]),Object(c["j"])(g,{ref:"confirmRef",text:"是否清空所有搜索历史","confirm-btn-text":"清空",onConfirm:d.clearSearch},null,8,["onConfirm"]),Object(c["j"])(v,{searches:d.searchHistory,onSelect:d.addQuery,onDelete:d.deleteSearch},null,8,["searches","onSelect","onDelete"])],512),[[c["J"],d.searchHistory.length]])])]})),_:1},512),[[c["J"],!d.query]]),Object(c["M"])(Object(c["j"])("div",j,[Object(c["j"])(S,{query:d.query,onSelectSong:d.selectSong,onSelectSinger:d.selectSinger},null,8,["query","onSelectSong","onSelectSinger"])],512),[[c["J"],d.query]]),Object(c["j"])(y,null,{default:r((function(e){var t=e.Component;return[Object(c["j"])(c["d"],{appear:"",name:"slide"},{default:r((function(){return[(Object(c["u"])(),Object(c["h"])(Object(c["E"])(t),{data:d.selectedSinger},null,8,["data"]))]})),_:2},1024)]})),_:1})])})),h=(n("96cf"),n("1da1")),O=n("0ff1"),p=n("b98a"),g=n("9caa"),v=n("70d8"),m=n("0921"),S=n("d296"),y=n("5502"),x=n("6c02"),k=n("335a"),w=n("aaef"),R=n("0d92"),T={name:"search",components:{Confirm:m["a"],Scroll:v["a"],SearchList:g["a"],SearchInput:O["a"],Suggest:p["a"]},setup:function(){var e=Object(c["z"])(""),t=Object(c["z"])([]),n=Object(c["z"])(null),r=Object(c["z"])(null),a=Object(c["z"])(null),o=Object(y["e"])(),i=Object(c["f"])((function(){return o.state.searchHistory})),u=Object(x["c"])(),s=Object(R["a"])(),l=s.saveSearch,b=s.deleteSearch,f=s.clearSearch;function j(){r.value.scroll.refresh()}function d(t){e.value=t}function O(t){l(e.value),o.dispatch("addSong",t)}function p(t){l(e.value),n.value=t,g(t),u.push({path:"/search/".concat(t.mid)})}function g(e){k["a"].session.set(w["f"],e)}function v(){a.value.show()}return Object(S["a"])().then((function(e){t.value=e.hotKeys})),Object(c["K"])(e,function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=4;break}return e.next=3,Object(c["p"])();case 3:j();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),{scrollRef:r,confirmRef:a,query:e,hotKeys:t,selectedSinger:n,searchHistory:i,addQuery:d,selectSong:O,selectSinger:p,showConfirm:v,deleteSearch:b,clearSearch:f}}},C=(n("fe0b"),n("6b0d")),I=n.n(C);const M=I()(T,[["render",d],["__scopeId","data-v-44916e86"]]);t["default"]=M},"5aa3":function(e,t,n){"use strict";n("92af")},"70d8":function(e,t,n){"use strict";n("96cf");var c=n("1da1"),r=n("7a23"),a=n("bba4"),o=n("5502");t["a"]={name:"wrap-scroll",props:a["a"].props,emits:a["a"].emits,render:function(e){return Object(r["m"])(a["a"],Object(r["o"])({ref:"scrollRef"},e.$props,{onScroll:function(t){e.$emit("scroll",t)}}),{default:Object(r["L"])((function(){return[Object(r["B"])(e.$slots,"default")]}))})},setup:function(){var e=Object(r["z"])(null),t=Object(r["f"])((function(){return e.value.scroll})),n=Object(o["e"])(),a=Object(r["f"])((function(){return n.state.playlist}));return Object(r["K"])(a,Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(r["p"])();case 2:t.value.refresh();case 3:case"end":return e.stop()}}),e)})))),{scrollRef:e,scroll:t}}}},8041:function(e,t,n){"use strict";n("b870")},8582:function(e,t,n){},"92af":function(e,t,n){},ae58:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var c=n("58ff");function r(){return Object(c["a"])("/api/getSingerList")}function a(e){return Object(c["a"])("/api/getSingerDetail",{mid:e.mid})}},b60a:function(e,t,n){"use strict";n("8582")},b870:function(e,t,n){},c0b3:function(e,t,n){"use strict";n.r(t);var c=n("7a23"),r=Object(c["O"])("data-v-3faf7f74");Object(c["x"])("data-v-3faf7f74");var a={class:"singer"};Object(c["v"])();var o=r((function(e,t,n,o,i,u){var s=Object(c["C"])("index-list"),l=Object(c["C"])("router-view"),b=Object(c["D"])("loading");return Object(c["M"])((Object(c["u"])(),Object(c["h"])("div",a,[Object(c["j"])(s,{data:i.singers,onSelect:u.selectSinger},null,8,["data","onSelect"]),Object(c["j"])(l,null,{default:r((function(e){var t=e.Component;return[Object(c["j"])(c["d"],{appear:"",name:"slide"},{default:r((function(){return[(Object(c["u"])(),Object(c["h"])(Object(c["E"])(t),{data:i.selectedSinger},null,8,["data"]))]})),_:2},1024)]})),_:1})],512)),[[b,!i.singers.length]])})),i=(n("96cf"),n("1da1")),u=n("ae58"),s=(n("b0c0"),Object(c["O"])("data-v-bc855e9a"));Object(c["x"])("data-v-bc855e9a");var l={style:{height:"100%"}},b=Object(c["j"])("div",{style:{width:"100%","background-image":"url('http://y.gtimg.cn/music/photo_new/T001R800x800M000001fNHEf1SFEFN.jpg')","padding-top":"70%","transform-origin":"top","background-size":"cover",position:"relative"}},null,-1),f={ref:"groupRef",style:{background:"#222"}},j={class:"title"},d={class:"avatar"},h={class:"name"},O={class:"fixed-title"};Object(c["v"])();var p=s((function(e,t,n,r,a,o){var i=Object(c["C"])("scroll"),u=Object(c["D"])("lazy");return Object(c["u"])(),Object(c["h"])("div",l,[b,Object(c["j"])(i,{class:"index-list","probe-type":3,onScroll:r.onScroll,ref:"scrollRef"},{default:s((function(){return[Object(c["j"])("ul",f,[(Object(c["u"])(!0),Object(c["h"])(c["a"],null,Object(c["A"])(n.data,(function(e){return Object(c["u"])(),Object(c["h"])("li",{key:e.title,class:"group"},[Object(c["j"])("h2",j,Object(c["G"])(e.title),1),Object(c["j"])("ul",null,[(Object(c["u"])(!0),Object(c["h"])(c["a"],null,Object(c["A"])(e.list,(function(e){return Object(c["u"])(),Object(c["h"])("li",{key:e.id,class:"item",onClick:function(t){return r.onItemClick(e)}},[Object(c["M"])(Object(c["j"])("img",d,null,512),[[u,e.pic]]),Object(c["j"])("span",h,Object(c["G"])(e.name),1)],8,["onClick"])})),128))])])})),128))],512),Object(c["M"])(Object(c["j"])("div",{class:"fixed",style:r.fixedStyle},[Object(c["j"])("div",O,Object(c["G"])(r.fixedTitle),1)],4),[[c["J"],r.fixedTitle]]),Object(c["j"])("div",{class:"shortcut",onTouchstart:t[1]||(t[1]=Object(c["N"])((function(){return r.onShortcutTouchStart&&r.onShortcutTouchStart.apply(r,arguments)}),["stop","prevent"])),onTouchmove:t[2]||(t[2]=Object(c["N"])((function(){return r.onShortcutTouchMove&&r.onShortcutTouchMove.apply(r,arguments)}),["stop","prevent"])),onTouchend:t[3]||(t[3]=Object(c["N"])((function(){}),["stop","prevent"]))},[Object(c["j"])("ul",null,[(Object(c["u"])(!0),Object(c["h"])(c["a"],null,Object(c["A"])(r.shortcutList,(function(e,t){return Object(c["u"])(),Object(c["h"])("li",{key:e,"data-index":t,class:["item",{current:r.currentIndex===t}]},Object(c["G"])(e),11,["data-index"])})),128))])],32)]})),_:1},8,["onScroll"])])})),g=n("70d8"),v=n("2121"),m=n("22c8"),S={name:"index-list",components:{Scroll:g["a"]},props:{data:{type:Array,default:function(){return[]}}},emits:["select"],setup:function(e,t){var n=t.emit,c=Object(v["a"])(e),r=c.groupRef,a=c.onScroll,o=c.fixedTitle,i=c.fixedStyle,u=c.currentIndex,s=Object(m["a"])(e,r),l=s.shortcutList,b=s.scrollRef,f=s.onShortcutTouchStart,j=s.onShortcutTouchMove;function d(e){n("select",e)}return{onItemClick:d,groupRef:r,onScroll:a,fixedTitle:o,fixedStyle:i,currentIndex:u,shortcutList:l,scrollRef:b,onShortcutTouchStart:f,onShortcutTouchMove:j}}},y=(n("ff69"),n("6b0d")),x=n.n(y);const k=x()(S,[["render",p],["__scopeId","data-v-bc855e9a"]]);var w=k,R=n("335a"),T=n("aaef"),C={name:"demo",components:{IndexList:w},data:function(){return{singers:[],selectedSinger:null}},created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["b"])();case 2:n=t.sent,e.singers=n.singers;case 4:case"end":return t.stop()}}),t)})))()},methods:{selectSinger:function(e){this.selectedSinger=e,this.cacheSinger(e),this.$router.push({path:"/singer/".concat(e.mid)})},cacheSinger:function(e){R["a"].session.set(T["f"],e)}}};n("5aa3");const I=x()(C,[["render",o],["__scopeId","data-v-3faf7f74"]]);t["default"]=I},c63c:function(e,t,n){},fe0b:function(e,t,n){"use strict";n("c63c")},ff69:function(e,t,n){"use strict";n("1e47")}}]);